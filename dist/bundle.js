(()=>{"use strict";const t={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let e;const n=new Uint8Array(16);function r(){if(!e&&(e="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!e))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return e(n)}const a=[];for(let t=0;t<256;++t)a.push((t+256).toString(16).slice(1));const o=function(e,n,o){if(t.randomUUID&&!n&&!e)return t.randomUUID();const c=(e=e||{}).random||(e.rng||r)();if(c[6]=15&c[6]|64,c[8]=63&c[8]|128,n){o=o||0;for(let t=0;t<16;++t)n[o+t]=c[t];return n}return function(t,e=0){return a[t[e+0]]+a[t[e+1]]+a[t[e+2]]+a[t[e+3]]+"-"+a[t[e+4]]+a[t[e+5]]+"-"+a[t[e+6]]+a[t[e+7]]+"-"+a[t[e+8]]+a[t[e+9]]+"-"+a[t[e+10]]+a[t[e+11]]+a[t[e+12]]+a[t[e+13]]+a[t[e+14]]+a[t[e+15]]}(c)};class c{constructor(t,e){this._cart=[],this._name=t,this._age=e}get cart(){return this._cart}addToCart(t){this._cart.push(t)}removeFromCart(t){this._cart=this._cart.filter((e=>e.id!==t.id))}removeQuantityFromCart(t,e){for(let n=0;n<e;n++){const e=this._cart.findIndex((e=>e.id===t.id));if(-1===e)break;this._cart.splice(e,1)}}cartTotal(){return this._cart.reduce(((t,e)=>t+e.price),0)}get name(){return this._name}set name(t){this._name=t}get age(){return this._age}set age(t){this._age=t}}function d(t,e,n){return{id:o(),name:t,price:e,description:n}}const s=t=>{const e=document.getElementById("cart"),n=document.getElementById("totalCost"),r=document.getElementById("helloUser");if(e&&n&&t){e.innerHTML="";const a={};t.cart.forEach((t=>{const e=t.name;a[e]?a[e].count++:a[e]={item:t,count:1}}));for(const n in a){const{item:r,count:o}=a[n],c=document.createElement("div");c.classList.add("card","mb-3");const d=document.createElement("div");d.classList.add("card-body");const i=document.createElement("button");i.innerText="Remove One",i.classList.add("btn","btn-danger","me-2"),i.addEventListener("click",(()=>{t.removeQuantityFromCart(r,1),s(t)}));const l=document.createElement("button");l.innerText="Remove All",l.classList.add("btn","btn-warning"),l.addEventListener("click",(()=>{t.removeFromCart(r),s(t)})),d.innerHTML=`\n                <h5 class="card-title">${r.name} - Quantity ${o}</h5>\n                <p class="card-text">$${r.price.toFixed(2)} - ${r.description}</p>\n            `,d.appendChild(i),d.appendChild(l),c.appendChild(d),e.appendChild(c)}n.textContent=`Total Cost: $${t.cartTotal().toFixed(2)}`,r&&(r.textContent=`Hello, ${t.name}!`)}};let i=null;const l=document.getElementById("shopColumn"),m=document.getElementById("userForm");m&&m.addEventListener("submit",(t=>{t.preventDefault();const e=document.getElementById("userName"),n=document.getElementById("userAge"),r=e.value,a=parseInt(n.value,10),o=new c(r,a);i=o,s(o),e.value="",n.value="",l&&(l.style.display="block")})),(()=>{const t=document.getElementById("shop"),e=document.getElementById("totalCost"),n=document.getElementById("cart");t&&e&&n&&(t.innerHTML="",e.textContent="Total Cost: $0.00",[d("Red Apples",3,"Grown in Washington"),d("Peaches",2.5,"Grown in South Georgia"),d("Bananas for Donkey Kong",1.75,"Imported From Mexico"),d("Organic Royal Star Papaya",1.15,"Fresh From Texas"),d("Organic Blackberries",7.5,"Grown in California"),d("Strawberries",5.5,"Grown near Santa Cruz, California")].forEach((e=>{const n=document.createElement("div");n.classList.add("card","mb-3");const r=document.createElement("div");r.classList.add("card-body");const a=document.createElement("button");a.innerText="Add to Cart",a.classList.add("btn","btn-success"),a.addEventListener("click",(()=>{null==i||i.addToCart(e),s(i)})),r.innerHTML=`\n                <h5 class="card-title">${e.name}</h5>\n                <p class="card-text">$${e.price.toFixed(2)} - ${e.description}</p>\n            `,r.appendChild(a),n.appendChild(r),t.appendChild(n)})))})()})();