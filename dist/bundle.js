(()=>{"use strict";const e={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let t;const n=new Uint8Array(16);function a(){if(!t&&(t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!t))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return t(n)}const r=[];for(let e=0;e<256;++e)r.push((e+256).toString(16).slice(1));const o=function(t,n,o){if(e.randomUUID&&!n&&!t)return e.randomUUID();const c=(t=t||{}).random||(t.rng||a)();if(c[6]=15&c[6]|64,c[8]=63&c[8]|128,n){o=o||0;for(let e=0;e<16;++e)n[o+e]=c[e];return n}return function(e,t=0){return r[e[t+0]]+r[e[t+1]]+r[e[t+2]]+r[e[t+3]]+"-"+r[e[t+4]]+r[e[t+5]]+"-"+r[e[t+6]]+r[e[t+7]]+"-"+r[e[t+8]]+r[e[t+9]]+"-"+r[e[t+10]]+r[e[t+11]]+r[e[t+12]]+r[e[t+13]]+r[e[t+14]]+r[e[t+15]]}(c)};class c{constructor(e,t){this._cart=[],this._name=e,this._age=t}get cart(){return this._cart}addToCart(e){this._cart.push(e)}removeFromCart(e){this._cart=this._cart.filter((t=>t.id!==e.id))}removeQuantityFromCart(e,t){for(let n=0;n<t;n++){const t=this._cart.findIndex((t=>t.id===e.id));if(-1===t)break;this._cart.splice(t,1)}}cartTotal(){return this._cart.reduce(((e,t)=>e+t.price),0)}get name(){return this._name}set name(e){this._name=e}get age(){return this._age}set age(e){this._age=e}}function d(e,t,n,a){return{id:o(),name:e,price:t,description:n,imageUrl:a}}const s=e=>{const t=document.getElementById("cart"),n=document.getElementById("totalCost"),a=document.getElementById("helloUser");if(t&&n&&e){t.innerHTML="";const r={};e.cart.forEach((e=>{const t=e.name;r[t]?r[t].count++:r[t]={item:e,count:1}}));for(const n in r){const{item:a,count:o}=r[n],c=document.createElement("div");c.classList.add("card","mb-3");const d=document.createElement("div");d.classList.add("card-body");const i=document.createElement("button");i.innerText="Remove One",i.classList.add("btn","btn-warning","me-2"),i.addEventListener("click",(()=>{e.removeQuantityFromCart(a,1),s(e)}));const l=document.createElement("button");l.innerText="Remove All",l.classList.add("btn","btn-danger"),l.addEventListener("click",(()=>{e.removeFromCart(a),s(e)})),d.innerHTML=`\n                <h5 class="card-title">${a.name} - Quantity: ${o}</h5>\n                <p class="card-text">$${a.price.toFixed(2)} </p>\n            `,d.appendChild(i),d.appendChild(l),c.appendChild(d),t.appendChild(c)}n.textContent=`Total Cost: $${e.cartTotal().toFixed(2)}`,a&&(a.innerHTML=`Hello,  ${e.name.charAt(0).toUpperCase()+e.name.slice(1)}<br>Age: ${e.age}!<br><br>Items For Sale:`)}};let i=null;const l=document.getElementById("shopColumn"),m=document.getElementById("userForm");m&&m.addEventListener("submit",(e=>{e.preventDefault();const t=document.getElementById("userName"),n=document.getElementById("userAge"),a=t.value,r=parseInt(n.value,10),o=new c(a,r);i=o,s(o),t.value="",n.value="",l&&(l.style.display="block")})),(()=>{const e=document.getElementById("shop"),t=document.getElementById("totalCost"),n=document.getElementById("cart");e&&t&&n&&(e.innerHTML="",t.textContent="Total Cost: $0.00",[d("Red Apples",3,"Grown in Washington","https://d3fwccq2bzlel7.cloudfront.net/Pictures/1024x536/4/6/9/42469_2_1201037_e.jpg"),d("Peaches",2.5,"Grown in South Georgia","https://robbreport.com/wp-content/uploads/2023/06/Georgia-Peaches.jpg"),d("Bananas for Donkey Kong",1.75,"Imported From Mexico","https://i0.wp.com/mynintendonews.com/wp-content/uploads/2013/05/donkey_kong_bananas.jpg"),d("Organic Royal Star Papaya",1.15,"Fresh From Texas","https://specialtyproduce.com/sppics/8443.png"),d("Organic Blackberries",7.5,"Grown in California","https://h2.commercev3.net/cdn.gurneys.com/images/800/74033.jpg"),d("Strawberries",5.5,"Grown near Santa Cruz, California","https://vegetablegrowersnews.com/wp-content/uploads/2018/07/California-strawberries.jpg")].forEach((t=>{const n=document.createElement("div");n.classList.add("card","mb-3");const a=document.createElement("div");a.classList.add("card-body");const r=document.createElement("div");r.classList.add("row");const o=document.createElement("div");o.classList.add("col-md-6");const c=document.createElement("img");c.src=t.imageUrl,c.classList.add("img-fluid","rounded"),c.alt=`Image of ${t.name}`,c.style.width="100%",c.style.minHeight="150px",o.appendChild(c),r.appendChild(o);const d=document.createElement("div");d.classList.add("col-md-6"),d.innerHTML=`\n                <h5 class="card-title">${t.name}</h5>\n                <p class="card-text">$${t.price.toFixed(2)} - ${t.description}</p>\n            `;const l=document.createElement("button");l.innerText="Add to Cart",l.classList.add("btn","btn-success"),l.addEventListener("click",(()=>{null==i||i.addToCart(t),s(i)})),d.appendChild(l),r.appendChild(d),a.appendChild(r),n.appendChild(a),e.appendChild(n)})))})()})();