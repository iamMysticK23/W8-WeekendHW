(()=>{"use strict";const e={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let t;const n=new Uint8Array(16);function a(){if(!t&&(t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!t))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return t(n)}const o=[];for(let e=0;e<256;++e)o.push((e+256).toString(16).slice(1));const r=function(t,n,r){if(e.randomUUID&&!n&&!t)return e.randomUUID();const c=(t=t||{}).random||(t.rng||a)();if(c[6]=15&c[6]|64,c[8]=63&c[8]|128,n){r=r||0;for(let e=0;e<16;++e)n[r+e]=c[e];return n}return function(e,t=0){return o[e[t+0]]+o[e[t+1]]+o[e[t+2]]+o[e[t+3]]+"-"+o[e[t+4]]+o[e[t+5]]+"-"+o[e[t+6]]+o[e[t+7]]+"-"+o[e[t+8]]+o[e[t+9]]+"-"+o[e[t+10]]+o[e[t+11]]+o[e[t+12]]+o[e[t+13]]+o[e[t+14]]+o[e[t+15]]}(c)};class c{constructor(e,t){this._cart=[],this._name=e,this._age=t}get cart(){return this._cart}addToCart(e){this._cart.push(e)}removeFromCart(e){this._cart=this._cart.filter((t=>t.id!==e.id))}removeQuantityFromCart(e,t){for(let n=0;n<t;n++){const t=this._cart.findIndex((t=>t.id===e.id));if(-1===t)break;this._cart.splice(t,1)}}cartTotal(){return this._cart.reduce(((e,t)=>e+t.price),0)}get name(){return this._name}set name(e){this._name=e}get age(){return this._age}set age(e){this._age=e}}function s(e,t,n,a){return{id:r(),name:e,price:t,description:n,imageUrl:a}}const d=e=>{const t=document.getElementById("cart"),n=document.getElementById("totalCost"),a=document.getElementById("helloUser");if(t&&n&&e){t.innerHTML="";const o={};e.cart.forEach((e=>{const t=e.name;o[t]?o[t].count++:o[t]={item:e,count:1}}));for(const n in o){const{item:a,count:r}=o[n],c=document.createElement("div");c.classList.add("card","mb-3");const s=document.createElement("div");s.classList.add("card-body");const i=document.createElement("button");i.innerText="Remove One",i.classList.add("btn","btn-warning","me-2"),i.addEventListener("click",(()=>{e.removeQuantityFromCart(a,1),d(e)}));const l=document.createElement("button");l.innerText="Remove All",l.classList.add("btn","btn-danger"),l.addEventListener("click",(()=>{e.removeFromCart(a),d(e)})),s.innerHTML=`\n                <h5 class="card-title">${a.name} - Quantity: ${r}</h5>\n                <p class="card-text">$${a.price.toFixed(2)} </p>\n            `,s.appendChild(i),s.appendChild(l),c.appendChild(s),t.appendChild(c)}n.textContent=`Total Cost: $${e.cartTotal().toFixed(2)}`,a&&(a.innerHTML=`Hello,  ${e.name.charAt(0).toUpperCase()+e.name.slice(1)}<br>Age: ${e.age}!<br><br>Items For Sale:`)}};let i=null;const l=document.getElementById("shopColumn"),m=document.getElementById("loginMessage"),p=document.getElementById("userForm");p&&m&&p.addEventListener("submit",(e=>{e.preventDefault();const t=document.getElementById("userName"),n=document.getElementById("userAge"),a=t.value,o=parseInt(n.value,10),r=new c(a,o);i=r,d(r),t.value="",n.value="",m.style.display="none",l&&(l.style.display="block")})),(()=>{const e=document.getElementById("shop"),t=document.getElementById("totalCost"),n=document.getElementById("cart");e&&t&&n&&(e.innerHTML="",t.textContent="Total Cost: $0.00",[s("Red Apples: one bag",3,"Grown in Washington","https://d3fwccq2bzlel7.cloudfront.net/Pictures/1024x536/4/6/9/42469_2_1201037_e.jpg"),s("Peaches: set of 4",2.5,"Grown in South Georgia","https://robbreport.com/wp-content/uploads/2023/06/Georgia-Peaches.jpg"),s("Bananas for Donkey Kong: bunch of 5",3.75,"Imported From Mexico","https://i0.wp.com/mynintendonews.com/wp-content/uploads/2013/05/donkey_kong_bananas.jpg"),s("Organic Royal Star Papaya: set of 3",1.15,"Fresh From Texas","https://specialtyproduce.com/sppics/8443.png"),s("Organic Blackberries: package",7.5,"Grown in California","https://h2.commercev3.net/cdn.gurneys.com/images/800/74033.jpg"),s("Strawberries: package",5.5,"Grown near Santa Cruz, California","https://vegetablegrowersnews.com/wp-content/uploads/2018/07/California-strawberries.jpg")].forEach((t=>{const n=document.createElement("div");n.classList.add("card","mb-3");const a=document.createElement("div");a.classList.add("card-body");const o=document.createElement("div");o.classList.add("row");const r=document.createElement("div");r.classList.add("col-md-6");const c=document.createElement("img");c.src=t.imageUrl,c.classList.add("img-fluid","rounded"),c.alt=`Image of ${t.name}`,c.style.width="100%",c.style.minHeight="150px",r.appendChild(c),o.appendChild(r);const s=document.createElement("div");s.classList.add("col-md-6"),s.innerHTML=`\n                <h5 class="card-title">${t.name}</h5>\n                <p class="card-text">$${t.price.toFixed(2)} - ${t.description}</p>\n            `;const l=document.createElement("button");l.innerText="Add to Cart",l.classList.add("btn","btn-success"),l.addEventListener("click",(()=>{null==i||i.addToCart(t),d(i)})),s.appendChild(l),o.appendChild(s),a.appendChild(o),n.appendChild(a),e.appendChild(n)})))})()})();